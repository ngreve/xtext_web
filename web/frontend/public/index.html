<!DOCTYPE html>
<!-- FILE: <project>/frontend/public/index.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>

    <!-- Class to notify the XtextEditor component that
         the code editor is ready to use -->
    <script src="Events.js"></script>

    <!-- MOSTLY COPIED FROM *.web/index.html -->
    <!-- Take care of the version number of the exported libraries and thier
         references within the code down below -->
    <link rel="stylesheet" type="text/css" href="xtext/2.17.1/xtext-ace.css"/>
    <script src="webjars/requirejs/2.3.6/require.min.js"></script>

    <script type="text/javascript">
      var xtextReadyEvent = new Events()
      var baseUrl = window.location.pathname;
      var fileIndex = baseUrl.indexOf('index.html');

      /* _xtext will contain our ready-to-use editor. It will
         be available through the window object. */
      var _xtext = null;
      if (fileIndex > 0)
        baseUrl = baseUrl.slice(0, fileIndex);
      require.config({
        baseUrl: baseUrl,
        paths: {
          'jquery': 'webjars/jquery/3.3.1-1/jquery.min',
          'ace/ext/language_tools': 'webjars/ace/1.3.3/src/ext-language_tools',
          'xtext/xtext-ace': 'xtext/2.18.0.M3/xtext-ace'
        }
      });
      require(['webjars/ace/1.3.3/src/ace'], function() {
        require(['xtext/xtext-ace'], function(xtext) {
          _xtext = xtext;
          /* The editor (_xtext) is now ready-to-use.
             We emit an 'ready' event to inform the App.vue component about it. */
          xtextReadyEvent.emit('ready');
          /* The information flow continues in the mounted function of the
             App.vue component. */
        })
      })
    </script>
    <!-- COPY END -->

  </head>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
